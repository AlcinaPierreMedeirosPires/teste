<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Jogo de Colisão</title>
    <style>
        canvas { border: 1px solid #d3d3d3; background-color: #A0A0A0; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body onload="startGame();">
    <canvas id="gameCanvas" width="480" height="270"></canvas>
    <div>
        <h2>Jogador 1 (Vermelho)</h2>
        <button onclick="move(1, 0, -1)">Cima</button>
        <button onclick="move(1, 0, 1)">Baixo</button>
        <button onclick="move(1, -1, 0)">Esquerda</button>
        <button onclick="move(1, 1, 0)">Direita</button>
    </div>
    <div>
        <h2>Jogador 2 (Azul)</h2>
        <button onclick="move(2, 0, -1)">Cima</button>
        <button onclick="move(2, 0, 1)">Baixo</button>
        <button onclick="move(2, -1, 0)">Esquerda</button>
        <button onclick="move(2, 1, 0)">Direita</button>
    </div>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        let jogadores = [
            { x: 10, y: 120, color: "red", speedX: 0, speedY: 0 },
            { x: 420, y: 120, color: "blue", speedX: 0, speedY: 0 }
        ];
        
        function startGame() {
            setInterval(update, 20);
            window.addEventListener('keydown', (e) => handleKeys(e.keyCode, true));
            window.addEventListener('keyup', (e) => handleKeys(e.keyCode, false));
        }

        function update() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            jogadores.forEach(j => {
                j.x += j.speedX;
                j.y += j.speedY;
                if (j.x < 0) j.x = 0; 
                if (j.x > canvas.width - 30) j.x = canvas.width - 30; 
                if (j.y < 0) j.y = 0; 
                if (j.y > canvas.height - 30) j.y = canvas.height - 30; 
                ctx.fillStyle = j.color;
                ctx.fillRect(j.x, j.y, 30, 30);
            });
            if (collision(jogadores[0], jogadores[1])) {
                alert("COLISÃO DETECTADA");
                clearInterval();
            }
        }

        function move(player, dx, dy) {
            jogadores[player - 1].speedX += dx;
            jogadores[player - 1].speedY += dy;
        }

        function handleKeys(key, isDown) {
            const controls = {
                37: [2, -1, 0], 39: [2, 1, 0], 38: [2, 0, -1], 40: [2, 0, 1], // Jogador 2
                65: [1, -1, 0], 68: [1, 1, 0], 87: [1, 0, -1], 83: [1, 0, 1]   // Jog
